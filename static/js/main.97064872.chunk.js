(this.webpackJsonporder=this.webpackJsonporder||[]).push([[0],{120:function(e,t,r){},126:function(e,t,r){},128:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(11),i=r.n(a),s=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,189)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),c(e),n(e),a(e),i(e)}))},o=r(13),d=r(71),j=r(30),l=r(20),u=r.n(l),b=r(33),O=r(72),p=r.n(O).a.create({baseURL:"https://js-react-node-default-rtdb.firebaseio.com/69"}),h="FETCH_REQUEST",f="FETCH_REQUEST_SUCCESS",x="FETCH_REQUEST_ERROR",m="ADD_INGRIDIENTS",v="REMOVE_INGRIDIENTS",g="PLACE_ORDER",y="CLOSE_MODAL",E="SEND_ORDER",N="SEND_ORDER_SUCCESS",_="SEND_ORDER_ERROR",C="CHANGE_PURCHASING",T="INIT_ORDER",L="ADD_TO_TOTAL",P="REMOVE_AT_TOTAL",R=function(e){return function(){var t=Object(b.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),t.next=4,p.post("/orders.json",e);case 4:r({type:E}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r((c=t.t0,{type:E,error:c}));case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},S=r(172),D=r(175),w=r(178),k=r(177),F=r(38),A=r(188),I=r(77),M=r.n(I),U=(r(120),r(3)),z=Object(S.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151}}})),K=function(e){var t=e.image,r=e.title,c=e.price,n=e.type,a=e.addProduct,i=z();return Object(U.jsxs)(D.a,{className:i.root,children:[Object(U.jsx)(k.a,{className:i.cover,image:t,title:r}),Object(U.jsx)("div",{className:i.details,children:Object(U.jsxs)(w.a,{className:i.content,children:[Object(U.jsx)(F.a,{component:"h5",variant:"h5",children:r}),Object(U.jsxs)(F.a,{variant:"subtitle1",color:"textSecondary",children:["KZT ",c]})]})}),Object(U.jsxs)(A.a,{size:"small",className:"card_order",onClick:function(){return a(n)},children:[Object(U.jsx)(M.a,{})," Add to card"]})]})},Z=r(50),H=r(134),G=r(179),W=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function B(){var e=W(),t=n.a.useState(!0),r=Object(Z.a)(t,2),c=r[0],a=r[1];return Object(U.jsx)("div",{children:Object(U.jsx)(H.a,{className:e.backdrop,open:c,onClick:function(){a(!1)},children:Object(U.jsx)(G.a,{color:"inherit"})})})}r(126);var Q=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.order.products})),r=Object(o.c)((function(e){return e.order.isLoading}));Object(c.useEffect)((function(){e(function(){var e=Object(b.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:h}),e.next=4,p.get("/products.json");case 4:r=e.sent,t((n=r.data,{type:f,data:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((c=e.t0,{type:x,error:c}));case 11:case"end":return e.stop()}var c,n}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var n=function(t){e(function(e){return{type:m,ingName:e}}(t))},a=t.map((function(e){return Object(U.jsx)(K,{type:e.product,title:e.product,image:e.image,price:e.price,addProduct:n},e.product)}));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"OrderProducts",children:a}),r?Object(U.jsx)(B,{}):null]})},V=r(186),J={Pasta:1200,Caesar:450,Focaccia:150,Lemonade:200},X=r(180),Y=r(182),q=r(181);function $(e){var t=e.open,r=e.children,c=e.title;return Object(U.jsxs)(X.a,{open:t,"aria-labelledby":"form-dialog-title",children:[Object(U.jsx)(q.a,{id:"form-dialog-title",children:c}),Object(U.jsx)(Y.a,{children:r})]})}var ee=r(29),te=r(7),re=r(187),ce=r(185),ne=r(184),ae=r(183);function ie(e){var t=e.ingredients,r=e.total,c=e.delivery,n=e.price,a=Object.keys(t).map((function(e){return 0!==t[e]?Object(U.jsxs)(ae.a,{children:[Object(U.jsx)("span",{style:{textTransform:"capitalize"},children:e}),":"," ",t[e]," ",Object(U.jsxs)("span",{children:["x ",n[e]," KZT"]})]},e):null}));return Object(U.jsxs)(U.Fragment,{children:[a,Object(U.jsxs)("p",{children:["Delivery: ",c]}),Object(U.jsxs)("h3",{children:["Total price: ",r," KZT"]})]})}function se(e){var t=e.close,r=Object(o.b)(),n=Object(o.c)((function(e){return{dishes:e.shop.dishes,totalPrice:e.shop.totalPrice,delivery:e.shop.delivery,isLoading:e.shop.isLoading}})),a=n.dishes,i=n.totalPrice,s=n.delivery,d=n.isLoading,j=Object(c.useState)({name:"",phone:"",address:""}),l=Object(Z.a)(j,2),O=l[0],p=l[1],h=function(e){var t=e.target,r=t.name,c=t.value;p((function(e){return Object(te.a)(Object(te.a)({},e),{},Object(ee.a)({},r,c))}))},f=function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c={dishes:a,data:Object(te.a)({},O)},""===O.name||""===O.phone||""===O.address){e.next=7;break}r(R(c)),r({type:T}),e.next=8;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ie,{ingredients:a,total:i,delivery:s,price:J}),d?Object(U.jsx)(B,{}):null,Object(U.jsxs)("form",{onSubmit:f,children:[Object(U.jsxs)(Y.a,{children:[Object(U.jsx)(ne.a,{children:"Please fill in the fields to send your order"}),Object(U.jsx)(re.a,{autoFocus:!0,margin:"dense",name:"name",label:"Add your name",type:"text",fullWidth:!0,onChange:h}),Object(U.jsx)(re.a,{autoFocus:!0,margin:"dense",name:"phone",label:"Add your phone number",type:"text",fullWidth:!0,onChange:h}),Object(U.jsx)(re.a,{autoFocus:!0,margin:"dense",name:"address",label:"Add your address",type:"text",fullWidth:!0,onChange:h})]}),Object(U.jsxs)(ce.a,{children:[Object(U.jsx)(A.a,{onClick:t,color:"secondary",variant:"contained",children:"Disagree"}),Object(U.jsx)(A.a,{color:"primary",variant:"contained",onClick:f,children:"Agree and Order"})]})]})]})}r(128);var oe=function(e){var t=e.type,r=e.amount,c=e.price,n=e.remove,a=function(){return Object(U.jsxs)("div",{className:"cards",children:[Object(U.jsx)("div",{className:"cart_wrapper",children:Object(U.jsx)("h4",{children:t})}),Object(U.jsx)("div",{className:"cart_wrapper_amount",children:Object(U.jsxs)("h4",{children:["x",r]})}),Object(U.jsx)("div",{className:"cart_wrapper_price",children:Object(U.jsxs)("h4",{children:[c,Object(U.jsx)("span",{children:" KZT"})]})}),Object(U.jsx)("div",{className:"cart_wrapper_remove",children:Object(U.jsx)(A.a,{onClick:function(){return n(t)},children:"-"})})]})};switch(t){case"Pasta":case"Caesar":case"Focaccia":case"Lemonade":return a();default:return null}},de=(r(129),Object(S.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}})),je=function(){var e=de(),t=Object(o.c)((function(e){return e.shop.dishes})),r=Object(o.c)((function(e){return e.shop.delivery})),n=Object(o.c)((function(e){return e.shop.totalPrice})),a=Object(o.c)((function(e){return e.shop.purchasing})),i=Object(o.c)((function(e){return e.shop.openModal})),s=Object(o.b)(),d=Object.keys(t),j=Object.values(t),l=function(e){s(function(e){return{type:v,ingName:e}}(e))};Object(c.useEffect)((function(){if(!1===a)s({type:L});else{if(!0!==a||0===n)return;s({type:P})}}),[a]),0===t.Pasta&&0===t.Caesar&&0===t.Focaccia&&0===t.Lemonade&&s(function(e){return{type:C,purchasing:e}}(!0));var u=function(e,t){for(var r=[],c=0;c<e.length;c++){var n={product:e[c],amount:t[c],price:J[e[c]]};r.push(n)}return r}(d,j).map((function(e){return 0!==e.amount?Object(U.jsx)(oe,{type:e.product,title:e.product,amount:e.amount,price:e.price,remove:l},e.product):null}));return Object(U.jsxs)("div",{className:"ShopCart",children:[Object(U.jsxs)(D.a,{className:e.root,children:[Object(U.jsxs)(w.a,{children:[Object(U.jsx)("h2",{children:"Cart"}),u,Object(U.jsxs)("div",{className:"cards",children:[Object(U.jsxs)("div",{className:"cart_wrapper",children:[Object(U.jsx)("h4",{children:"Delivery"}),Object(U.jsx)("h4",{children:"Total"})]}),Object(U.jsxs)("div",{className:"cart_wrapper_price",children:[Object(U.jsxs)("h4",{children:[r," ",Object(U.jsx)("span",{children:"KZT"})]}),Object(U.jsxs)("h4",{children:[n," ",Object(U.jsx)("span",{children:"KZT"})]})]})]})]}),Object(U.jsx)(V.a,{children:Object(U.jsx)(A.a,{size:"small",disabled:a,onClick:function(){s({type:g})},children:"Place order"})})]}),Object(U.jsx)($,{open:i,title:"Your Order",children:Object(U.jsx)(se,{close:function(){s({type:y})}})})]})},le=(r(130),function(){return Object(U.jsxs)("div",{className:"Order",children:[Object(U.jsx)(Q,{}),Object(U.jsx)(je,{})]})}),ue={products:[],isLoading:!1,error:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0});case f:var r=Object.keys(t.data).map((function(e){return{product:t.data[e].product,image:t.data[e].image,price:J[t.data[e].product]}}));return Object(te.a)(Object(te.a)({},e),{},{products:r,isLoading:!1});case x:return Object(te.a)(Object(te.a)({},e),{},{error:t.error,isLoading:!1});default:return e}},Oe={dishes:{Pasta:0,Caesar:0,Focaccia:0,Lemonade:0},delivery:150,totalPrice:0,purchasing:!0,openModal:!1,isLoading:!1,error:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(te.a)(Object(te.a)({},e),{},{dishes:Object(te.a)(Object(te.a)({},e.dishes),{},Object(ee.a)({},t.ingName,e.dishes[t.ingName]+1)),totalPrice:e.totalPrice+J[t.ingName],purchasing:!1});case v:return Object(te.a)(Object(te.a)({},e),{},{dishes:Object(te.a)(Object(te.a)({},e.dishes),{},Object(ee.a)({},t.ingName,e.dishes[t.ingName]-1)),totalPrice:e.totalPrice-J[t.ingName],purchasing:!1});case E:return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0});case N:return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,openModal:!1});case _:return Object(te.a)(Object(te.a)({},e),{},{error:t.error,isLoading:!1,openModal:!1});case g:return Object(te.a)(Object(te.a)({},e),{},{openModal:!0,isLoading:!1});case y:return Object(te.a)(Object(te.a)({},e),{},{openModal:!1});case C:return Object(te.a)(Object(te.a)({},e),{},{purchasing:!0});case L:return Object(te.a)(Object(te.a)({},e),{},{totalPrice:e.totalPrice+e.delivery});case P:return Object(te.a)(Object(te.a)({},e),{},{totalPrice:e.totalPrice-e.delivery});case T:return Object(te.a)(Object(te.a)({},Oe),{},{isLoading:!1});default:return e}},he=(r(131),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d),fe=Object(j.c)({order:be,shop:pe}),xe=Object(j.e)(fe,he(Object(j.a)(d.a)));i.a.render(Object(U.jsx)(o.a,{store:xe,children:Object(U.jsx)(le,{})}),document.getElementById("root")),s()}},[[132,1,2]]]);
//# sourceMappingURL=main.97064872.chunk.js.map